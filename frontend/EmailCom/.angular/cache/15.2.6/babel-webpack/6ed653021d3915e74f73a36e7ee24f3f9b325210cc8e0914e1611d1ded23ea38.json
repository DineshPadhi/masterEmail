{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../form-service.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/platform-browser\";\nconst _c0 = [\"iframe\"];\nexport class FormComponent {\n  constructor(fb, formService, router, sanitizer) {\n    this.fb = fb;\n    this.formService = formService;\n    this.router = router;\n    this.sanitizer = sanitizer;\n    this.data = [];\n    this.formData = [];\n    this.preview = [];\n    this.dropdownList = [];\n    this.dropdownSettings = {};\n    this.htmlContent = '';\n    this.dropdownUserList = [];\n    this.dropdownUser = {};\n    this.userArry = [];\n    this.getData = '';\n    // getDropdown(){\n    //   document.getElementById('TaDrop2').ariaValueText = document.getElementById('TaDrop').ariaValueText\n    // }\n    this.selectedValue = '';\n    this.createForm();\n  }\n  ngOnInit() {\n    this.dropdownUserList = [{\n      item_id: 1,\n      item_text: 'User 1'\n    }, {\n      item_id: 2,\n      item_text: 'User 2'\n    }, {\n      item_id: 3,\n      item_text: 'User 3'\n    }];\n    this.dropdownUser = {\n      idField: 'item_id',\n      textField: 'item_text'\n    };\n    this.dropdownList = [{\n      item_id: 1,\n      item_text: 'English'\n    }, {\n      item_id: 2,\n      item_text: 'Hindi'\n    }, {\n      item_id: 3,\n      item_text: 'Marathi'\n    }];\n    this.dropdownSettings = {\n      idField: 'item_id',\n      textField: 'item_text'\n    };\n    // console.log(this.dropdownList[0].item_text);\n    // this.dropdownList.map((result:any)=>{\n    //   this.getData = result.item_text\n    //   console.log('getData====',this.getData)\n    // })\n  }\n\n  safehtmlinput($event) {\n    this.htmlContent = $event.target.value;\n    // this.urlSafe = this.sanitizer.bypassSecurityTrustHtml(this.htmlContent);\n    const iframe = document.getElementById('preview_iframe_5');\n    iframe['contentWindow'].document.open();\n    iframe['contentDocument'].write(this.htmlContent);\n    iframe['contentWindow'].document.close();\n    return this.urlSafe;\n  }\n  // select(value:any){\n  //   value.map((result:any)=>{\n  //     if(result.item_id){\n  //     this.userArry.push(result.item_text)\n  //     console.log('userArry====',this.userArry)\n  //     }\n  //   })\n  //   // this.userArry.push(value)\n  //   // console.log('getData====',this.userArry)\n  //   // this.userArry = value\n  //   // console.log('getData====',this.userArry)\n  // }\n  createForm() {\n    this.myForm = this.fb.group({\n      templateName: ['', Validators.required],\n      templateCode: ['', Validators.required],\n      scenario: [''],\n      providers: ['', Validators.required],\n      user: ['', Validators.required],\n      tier: ['', Validators.required],\n      emailType: ['', Validators.required],\n      activity: [''],\n      status: ['', Validators.required],\n      targetAudience: ['', Validators.required],\n      subject: ['', Validators.required],\n      body: ['', Validators.required],\n      lang: ['']\n    });\n  }\n  submit(data) {\n    this.formService.submitForm(data).subscribe(result => {\n      console.log('result========>>>>>>>>', result.data);\n      // localStorage.setItem('submit', JSON.stringify(result))\n      if (result) {\n        this.router.navigate(['/allTemplateData']);\n        console.log('result====', result);\n      }\n    });\n  }\n  // previewData(){\n  //   this.myForm.patchValue({\n  //     templateName : this.myForm.get('templateName').value\n  //   })\n  // }\n  reset() {\n    this.myForm.reset();\n  }\n  seePreview(event) {\n    this.preview = event.target.value;\n    // console.log(this.preview);\n  }\n  // error:any\n  onSelect(value) {\n    // this.selectedValue = document.getElementById('inp');\n    this.selectedValue = value;\n  }\n}\nFormComponent.ɵfac = function FormComponent_Factory(t) {\n  return new (t || FormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.FormServiceService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.DomSanitizer));\n};\nFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormComponent,\n  selectors: [[\"app-form\"]],\n  viewQuery: function FormComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.preview_iframe = _t.first);\n    }\n  },\n  hostVars: 2,\n  hostBindings: function FormComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵhostProperty(\"sandbox\", \"allow-scripts\", i0.ɵɵvalidateIframeAttribute);\n      i0.ɵɵattribute(\"sandbox\", \"allow-scripts\", i0.ɵɵvalidateIframeAttribute);\n    }\n  },\n  decls: 8,\n  vars: 0,\n  consts: [[\"aria-label\", \"breadcrumb\", 1, \"m-4\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\", \"active\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/allTemplateData\"]],\n  template: function FormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"ol\", 1)(2, \"li\", 2);\n      i0.ɵɵtext(3, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"li\", 3)(5, \"a\", 4);\n      i0.ɵɵtext(6, \"EditTemplate\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(7, \"app-form-inp\");\n    }\n  },\n  dependencies: [i3.RouterLink],\n  styles: [\".underlineHover[_ngcontent-%COMP%]:after {\\n    display: block;\\n    left: 0;\\n    bottom: -10px;\\n    width: 0;\\n    height: 2px;\\n    background-color: #56baed;\\n    content: \\\"\\\";\\n    transition: width 0.2s;\\n  }\\n  \\n  .underlineHover[_ngcontent-%COMP%]:hover {\\n    color: #0d0d0d;\\n  }\\n  \\n  .underlineHover[_ngcontent-%COMP%]:hover:after{\\n    width: 100%;\\n  }\\n\\n  span[_ngcontent-%COMP%] {\\n    color: #92badd;\\n    display:inline-block;\\n    text-decoration: none;\\n    font-weight: 400;\\n  }\\n\\n \\n\\n  .button[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: center;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9mb3JtL2Zvcm0uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7SUFDZCxPQUFPO0lBQ1AsYUFBYTtJQUNiLFFBQVE7SUFDUixXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxzQkFBc0I7RUFDeEI7O0VBRUE7SUFDRSxjQUFjO0VBQ2hCOztFQUVBO0lBQ0UsV0FBVztFQUNiOztFQUVBO0lBQ0UsY0FBYztJQUNkLG9CQUFvQjtJQUNwQixxQkFBcUI7SUFDckIsZ0JBQWdCO0VBQ2xCOzs7O0VBSUE7SUFDRSxhQUFhO0lBQ2IsdUJBQXVCO0VBQ3pCOztFQUVBOzs7S0FHRyIsInNvdXJjZXNDb250ZW50IjpbIi51bmRlcmxpbmVIb3ZlcjphZnRlciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbGVmdDogMDtcbiAgICBib3R0b206IC0xMHB4O1xuICAgIHdpZHRoOiAwO1xuICAgIGhlaWdodDogMnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NmJhZWQ7XG4gICAgY29udGVudDogXCJcIjtcbiAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzO1xuICB9XG4gIFxuICAudW5kZXJsaW5lSG92ZXI6aG92ZXIge1xuICAgIGNvbG9yOiAjMGQwZDBkO1xuICB9XG4gIFxuICAudW5kZXJsaW5lSG92ZXI6aG92ZXI6YWZ0ZXJ7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICBzcGFuIHtcbiAgICBjb2xvcjogIzkyYmFkZDtcbiAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgfVxuXG4gXG5cbiAgLmJ1dHRvbntcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB9XG5cbiAgLyogYnV0dG9ue1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgfSAqL1xuXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","FormComponent","constructor","fb","formService","router","sanitizer","createForm","ngOnInit","dropdownUserList","item_id","item_text","dropdownUser","idField","textField","dropdownList","dropdownSettings","safehtmlinput","$event","htmlContent","target","value","iframe","document","getElementById","open","write","close","urlSafe","myForm","group","templateName","required","templateCode","scenario","providers","user","tier","emailType","activity","status","targetAudience","subject","body","lang","submit","data","submitForm","subscribe","result","console","log","navigate","reset","seePreview","event","preview","onSelect","selectedValue","selectors","viewQuery","i0"],"sourceRoot":"","sources":["/home/chandraprakash/Documents/masterEmail/frontend/EmailCom/src/app/home/form/form.component.ts","/home/chandraprakash/Documents/masterEmail/frontend/EmailCom/src/app/home/form/form.component.html"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { FormServiceService } from '../form-service.service';\nimport { Router } from '@angular/router';\nimport { FilterService } from 'src/app/filter/filter.service';\nimport { IDropdownSettings } from 'ng-multiselect-dropdown';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\n\n@Component({\n  selector: 'app-form',\n  host: {\n    '[sandbox]': `'allow-scripts'`,\n    '[attr.sandbox]': `'allow-scripts'`,\n  },\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.css'],\n})\nexport class FormComponent implements OnInit {\n  @ViewChild('iframe') preview_iframe: ElementRef;\n\n\n\n  data: any = [];\n  formData: any = [];\n  myForm: FormGroup;\n  preview: any = [];\n  dropdownList = [];\n  dropdownSettings: IDropdownSettings = {};\n  urlSafe: SafeResourceUrl;\n  htmlContent: string = '';\n  dropdownUserList = [];\n  dropdownUser:IDropdownSettings={};\n  userArry:any = []\n  getData:any=''\n\n\n  constructor(\n    private fb: FormBuilder,\n    private formService: FormServiceService,\n    private router: Router,\n    public sanitizer: DomSanitizer\n  ) {\n    this.createForm();\n  }\n\n  ngOnInit(): void {\n    this.dropdownUserList = [\n      { item_id: 1, item_text: 'User 1' },\n      { item_id: 2, item_text: 'User 2' },\n      { item_id: 3, item_text: 'User 3' },\n    ];\n    this.dropdownUser = {\n      idField: 'item_id',\n      textField: 'item_text',\n    };\n\n\n    this.dropdownList = [\n      { item_id: 1, item_text: 'English' },\n      { item_id: 2, item_text: 'Hindi' },\n      { item_id: 3, item_text: 'Marathi' }\n    ];\n\n    this.dropdownSettings = {\n      idField: 'item_id',\n      textField: 'item_text',\n    }\n\n    // console.log(this.dropdownList[0].item_text);\n\n    // this.dropdownList.map((result:any)=>{\n    //   this.getData = result.item_text\n    //   console.log('getData====',this.getData)\n    // })\n  }\n\n  safehtmlinput($event: any) {\n    this.htmlContent = $event.target.value;\n    // this.urlSafe = this.sanitizer.bypassSecurityTrustHtml(this.htmlContent);\n    const iframe = document.getElementById('preview_iframe_5');\n    iframe['contentWindow'].document.open();\n    iframe['contentDocument'].write(this.htmlContent);\n    iframe['contentWindow'].document.close();\n\n    return this.urlSafe;\n  }\n\n\n \n\n\n  // select(value:any){\n  //   value.map((result:any)=>{\n  //     if(result.item_id){\n  //     this.userArry.push(result.item_text)\n  //     console.log('userArry====',this.userArry)\n  //     }\n  //   })\n  //   // this.userArry.push(value)\n  //   // console.log('getData====',this.userArry)\n  //   // this.userArry = value\n  //   // console.log('getData====',this.userArry)\n\n  // }\n\n\n\n  \n\n  createForm() {\n    this.myForm = this.fb.group({\n      templateName: ['', Validators.required],\n      templateCode: ['', Validators.required],\n      scenario: [''],\n      providers: ['', Validators.required],\n      user: ['', Validators.required],\n      tier: ['', Validators.required],\n      emailType: ['', Validators.required],\n      activity: [''],\n      status: ['', Validators.required],\n      targetAudience: ['', Validators.required],\n      subject: ['', Validators.required],\n      body: ['', Validators.required],\n      lang: ['']\n    });\n  }\n\n  submit(data: any) {\n    this.formService.submitForm(data).subscribe((result: any) => {\n      console.log('result========>>>>>>>>', result.data);\n      // localStorage.setItem('submit', JSON.stringify(result))\n      if (result) {\n        this.router.navigate(['/allTemplateData']);\n        console.log('result====', result);\n      }\n    });\n  }\n\n  // previewData(){\n  //   this.myForm.patchValue({\n  //     templateName : this.myForm.get('templateName').value\n\n  //   })\n  // }\n\n  reset() {\n    this.myForm.reset();\n  }\n\n  seePreview(event: any) {\n    this.preview = event.target.value;\n\n    // console.log(this.preview);\n  }\n\n  // getDropdown(){\n  //   document.getElementById('TaDrop2').ariaValueText = document.getElementById('TaDrop').ariaValueText\n  // }\n\n  selectedValue: any = '';\n  // error:any\n\n  onSelect(value: any) {\n    // this.selectedValue = document.getElementById('inp');\n    this.selectedValue = value;\n  }\n\n  title: 'hello world';\n}\n","<nav aria-label=\"breadcrumb\" class=\"m-4\">\n  <ol class=\"breadcrumb\">\n    <li class=\"breadcrumb-item active\">Home</li>\n    <li class=\"breadcrumb-item\">\n      <a routerLink=\"/allTemplateData\">EditTemplate</a>\n    </li>\n  </ol>\n</nav>\n\n<app-form-inp></app-form-inp>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}