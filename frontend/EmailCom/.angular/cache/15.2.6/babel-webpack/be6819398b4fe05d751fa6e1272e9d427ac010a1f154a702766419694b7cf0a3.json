{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../filter.service\";\nimport * as i4 from \"src/app/home/form/form.component\";\nimport * as i5 from \"@angular/platform-browser\";\nconst _c0 = [\"iframe\"];\nexport class UpdateUserComponent {\n  // patch: FilterComponent\n  constructor(active, fb, FilterService, router, form, sanitizer) {\n    // this.active.paramMap.subscribe((params)=>{\n    //   this.id = params.get('id')\n    this.active = active;\n    this.fb = fb;\n    this.FilterService = FilterService;\n    this.router = router;\n    this.form = form;\n    this.sanitizer = sanitizer;\n    this.dropdownList = [];\n    this.dropdownSettings = {};\n    this.htmlContent = '';\n    this.selectedValue = '';\n    //   if(this.id){\n    //     this.myForm.patchValue({\n    //       templateName: this.filter.preData.templateName,\n    //       status: 'Active'\n    //      })\n    //     //  this.createForm()\n    //   }\n    // })\n    // this.active.paramMap.subscribe((params:any)=>{\n    //   this.id = params.get('id')\n    //   if(this.id){\n    //     this.FilterService.getDataById(this.id).subscribe((result:any)=>{\n    //       console.log('result.......======',result.data[0].templateName);\n    //       if(result){\n    //         this.myForm.patchValue({\n    //           templateName: result.data[0].templateName\n    //         })\n    //         this.createForm()\n    //       }\n    //     })\n    //   }\n    // })\n    this.createForm();\n    // console.log('id====',this.myForm.value)\n  }\n\n  ngOnInit() {\n    // console.log('patch======', this.patch.myForm.value.templateName)\n    //     let user:any = localStorage.getItem('submit')\n    // console.log('user====.......', user)\n    //   this.data = JSON.parse(user)\n    //   this.data = this.data.data\n    //   console.log('data====.......', this.data)\n    // console.log(this.form.myForm.value)\n    // this.form.previewData()\n    // this.dropdownList = [\n    //   { item_id: 1, item_text: 'User 1' },\n    //   { item_id: 2, item_text: 'User 2' },\n    //   { item_id: 3, item_text: 'User 3' },\n    // ];\n    this.dropdownList = [{\n      item_id: 1,\n      item_text: 'User 1'\n    }, {\n      item_id: 2,\n      item_text: 'User 2'\n    }, {\n      item_id: 3,\n      item_text: 'User 3'\n    }];\n    this.dropdownSettings = {\n      idField: 'item_id',\n      textField: 'item_text'\n    };\n    this.active.paramMap.subscribe(params => {\n      this.id = params.get('id');\n      this.FilterService.getDataById(this.id).subscribe(result => {\n        this.htmlContent = result.data[0].body;\n        const iframe = document.getElementById('preview_iframe_5');\n        iframe['contentWindow'].document.open();\n        iframe['contentDocument'].write(this.htmlContent);\n        iframe['contentWindow'].document.close();\n        //\n        if (this.id) {\n          this.myForm.patchValue({\n            templateName: result.data[0].templateName,\n            templateCode: result.data[0].templateCode,\n            scenario: result.data[0].scenario,\n            providers: result.data[0].providers,\n            user: result.data[0].user,\n            tier: result.data[0].tier,\n            emailType: result.data[0].emailType,\n            activity: result.data[0].activity,\n            status: result.data[0].status,\n            targetAudience: result.data[0].targetAudience,\n            subject: result.data[0].subject,\n            body: result.data[0].body\n          });\n        }\n      });\n    });\n  }\n  createForm() {\n    this.myForm = this.fb.group({\n      templateName: ['', Validators.required],\n      templateCode: ['', Validators.required],\n      scenario: [''],\n      providers: ['', Validators.required],\n      user: ['', Validators.required],\n      tier: ['', Validators.required],\n      emailType: ['', Validators.required],\n      activity: [''],\n      status: ['', Validators.required],\n      targetAudience: ['', Validators.required],\n      subject: ['', Validators.required],\n      body: ['', Validators.required]\n    });\n  }\n  seePreview(event) {\n    this.preview = event.target.value;\n    // console.log(this.preview);\n  }\n\n  reset() {\n    this.myForm.reset();\n  }\n  // error:any\n  onSelect(value) {\n    // this.selectedValue = document.getElementById('inp');\n    this.selectedValue = value;\n  }\n  updateUser(data) {\n    // console.log('updatedata===', data);\n    this.active.paramMap.subscribe(params => {\n      this.id = params.get('id');\n      if (this.id) {\n        // this.myForm.patchValue({\n        //   templateName: this.form.myForm.value\n        //  })\n        this.FilterService.update(this.id, data).subscribe(result => {\n          if (result) {\n            this.router.navigate(['/allTemplateData']);\n            console.log('result......', result);\n          }\n        });\n      }\n    });\n  }\n  safehtmlinput($event) {\n    this.htmlContent = $event.target.value;\n    // this.urlSafe = this.sanitizer.bypassSecurityTrustHtml(this.htmlContent);\n    const iframe = document.getElementById('preview_iframe_5');\n    iframe['contentWindow'].document.open();\n    iframe['contentDocument'].write(this.htmlContent);\n    iframe['contentWindow'].document.close();\n  }\n  edit() {\n    this.myForm.patchValue({\n      templateName: this.form.myForm.value\n    });\n  }\n}\nUpdateUserComponent.ɵfac = function UpdateUserComponent_Factory(t) {\n  return new (t || UpdateUserComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.FilterService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i4.FormComponent), i0.ɵɵdirectiveInject(i5.DomSanitizer));\n};\nUpdateUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdateUserComponent,\n  selectors: [[\"app-update-user\"]],\n  viewQuery: function UpdateUserComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.preview_iframe = _t.first);\n    }\n  },\n  decls: 6,\n  vars: 0,\n  consts: [[\"aria-label\", \"breadcrumb\", 1, \"m-4\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/allTemplateData\"]],\n  template: function UpdateUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"ol\", 1)(2, \"li\", 2)(3, \"a\", 3);\n      i0.ɵɵtext(4, \"Back\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(5, \"app-form-inp\");\n    }\n  },\n  dependencies: [i1.RouterLink],\n  styles: [\".underlineHover[_ngcontent-%COMP%]:after {\\n    display: block;\\n    left: 0;\\n    bottom: -10px;\\n    width: 0;\\n    height: 2px;\\n    background-color: #56baed;\\n    content: \\\"\\\";\\n    transition: width 0.2s;\\n  }\\n  \\n  .underlineHover[_ngcontent-%COMP%]:hover {\\n    color: #0d0d0d;\\n  }\\n  \\n  .underlineHover[_ngcontent-%COMP%]:hover:after{\\n    width: 100%;\\n  }\\n\\n  span[_ngcontent-%COMP%] {\\n    color: #92badd;\\n    display:inline-block;\\n    text-decoration: none;\\n    font-weight: 400;\\n  }\\n\\n \\n\\n  .button[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: center;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlsdGVyL3VwZGF0ZS11c2VyL3VwZGF0ZS11c2VyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxjQUFjO0lBQ2QsT0FBTztJQUNQLGFBQWE7SUFDYixRQUFRO0lBQ1IsV0FBVztJQUNYLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsc0JBQXNCO0VBQ3hCOztFQUVBO0lBQ0UsY0FBYztFQUNoQjs7RUFFQTtJQUNFLFdBQVc7RUFDYjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxvQkFBb0I7SUFDcEIscUJBQXFCO0lBQ3JCLGdCQUFnQjtFQUNsQjs7OztFQUlBO0lBQ0UsYUFBYTtJQUNiLHVCQUF1QjtFQUN6QiIsInNvdXJjZXNDb250ZW50IjpbIi51bmRlcmxpbmVIb3ZlcjphZnRlciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbGVmdDogMDtcbiAgICBib3R0b206IC0xMHB4O1xuICAgIHdpZHRoOiAwO1xuICAgIGhlaWdodDogMnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NmJhZWQ7XG4gICAgY29udGVudDogXCJcIjtcbiAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzO1xuICB9XG4gIFxuICAudW5kZXJsaW5lSG92ZXI6aG92ZXIge1xuICAgIGNvbG9yOiAjMGQwZDBkO1xuICB9XG4gIFxuICAudW5kZXJsaW5lSG92ZXI6aG92ZXI6YWZ0ZXJ7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICBzcGFuIHtcbiAgICBjb2xvcjogIzkyYmFkZDtcbiAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgfVxuXG4gXG5cbiAgLmJ1dHRvbntcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB9XG5cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;;AAcnE,OAAM,MAAOC,mBAAmB;EAY9B;EAEFC,YAAoBC,MAAsB,EAAUC,EAAe,EAAUC,aAA4B,EAAUC,MAAc,EAAUC,IAAkB,EAAUC,SAAsB;IAE3L;IACA;IAHkB,WAAM,GAANL,MAAM;IAA0B,OAAE,GAAFC,EAAE;IAAuB,kBAAa,GAAbC,aAAa;IAAyB,WAAM,GAANC,MAAM;IAAkB,SAAI,GAAJC,IAAI;IAAwB,cAAS,GAATC,SAAS;IAR9K,iBAAY,GAAG,EAAE;IACjB,qBAAgB,GAAsB,EAAE;IAGxC,gBAAW,GAAW,EAAE;IAyIxB,kBAAa,GAAQ,EAAE;IAhIvB;IACA;IACA;IACA;IAEE;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IAEA,IAAI,CAACC,UAAU,EAAE;IAEjB;EACF;;EAEAC,QAAQ;IACN;IAEA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IAMF,IAAI,CAACC,YAAY,GAAG,CAClB;MAAEC,OAAO,EAAE,CAAC;MAAEC,SAAS,EAAE;IAAQ,CAAE,EACnC;MAAED,OAAO,EAAE,CAAC;MAAEC,SAAS,EAAE;IAAQ,CAAE,EACnC;MAAED,OAAO,EAAE,CAAC;MAAEC,SAAS,EAAE;IAAQ,CAAE,CACpC;IACD,IAAI,CAACC,gBAAgB,GAAG;MACtBC,OAAO,EAAE,SAAS;MAClBC,SAAS,EAAE;KACZ;IAGC,IAAI,CAACb,MAAM,CAACc,QAAQ,CAACC,SAAS,CAAEC,MAAM,IAAI;MACxC,IAAI,CAACC,EAAE,GAAGD,MAAM,CAACE,GAAG,CAAC,IAAI,CAAC;MAE1B,IAAI,CAAChB,aAAa,CAACiB,WAAW,CAAC,IAAI,CAACF,EAAE,CAAC,CAACF,SAAS,CAAEK,MAAW,IAAI;QAChE,IAAI,CAACC,WAAW,GAAGD,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI;QACtC,MAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;QAC1DF,MAAM,CAAC,eAAe,CAAC,CAACC,QAAQ,CAACE,IAAI,EAAE;QACvCH,MAAM,CAAC,iBAAiB,CAAC,CAACI,KAAK,CAAC,IAAI,CAACP,WAAW,CAAC;QACjDG,MAAM,CAAC,eAAe,CAAC,CAACC,QAAQ,CAACI,KAAK,EAAE;QACxC;QACA,IAAI,IAAI,CAACZ,EAAE,EAAE;UACX,IAAI,CAACa,MAAM,CAACC,UAAU,CAAC;YACrBC,YAAY,EAAEZ,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACU,YAAY;YACzCC,YAAY,EAAEb,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACW,YAAY;YACzCC,QAAQ,EAAEd,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACY,QAAQ;YACjCC,SAAS,EAAEf,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACa,SAAS;YACnCC,IAAI,EAAEhB,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACc,IAAI;YACzBC,IAAI,EAAEjB,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACe,IAAI;YACzBC,SAAS,EAAElB,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACgB,SAAS;YACnCC,QAAQ,EAAEnB,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACiB,QAAQ;YACjCC,MAAM,EAAEpB,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACkB,MAAM;YAC7BC,cAAc,EAAErB,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACmB,cAAc;YAC7CC,OAAO,EAAEtB,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACoB,OAAO;YAC/BnB,IAAI,EAAEH,MAAM,CAACE,IAAI,CAAC,CAAC,CAAC,CAACC;WACtB,CAAC;;MAEN,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAQAjB,UAAU;IACR,IAAI,CAACwB,MAAM,GAAG,IAAI,CAAC7B,EAAE,CAAC0C,KAAK,CAAC;MAC1BX,YAAY,EAAE,CAAC,EAAE,EAAEnC,UAAU,CAAC+C,QAAQ,CAAC;MACvCX,YAAY,EAAE,CAAC,EAAE,EAAEpC,UAAU,CAAC+C,QAAQ,CAAC;MACvCV,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,SAAS,EAAE,CAAC,EAAE,EAAEtC,UAAU,CAAC+C,QAAQ,CAAC;MACpCR,IAAI,EAAE,CAAC,EAAE,EAAEvC,UAAU,CAAC+C,QAAQ,CAAC;MAC/BP,IAAI,EAAE,CAAC,EAAE,EAAExC,UAAU,CAAC+C,QAAQ,CAAC;MAC/BN,SAAS,EAAE,CAAC,EAAE,EAAEzC,UAAU,CAAC+C,QAAQ,CAAC;MACpCL,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,MAAM,EAAE,CAAC,EAAE,EAAE3C,UAAU,CAAC+C,QAAQ,CAAC;MACjCH,cAAc,EAAE,CAAC,EAAE,EAAE5C,UAAU,CAAC+C,QAAQ,CAAC;MACzCF,OAAO,EAAE,CAAC,EAAE,EAAE7C,UAAU,CAAC+C,QAAQ,CAAC;MAClCrB,IAAI,EAAE,CAAC,EAAE,EAAE1B,UAAU,CAAC+C,QAAQ;KAC/B,CAAC;EACJ;EAIAC,UAAU,CAACC,KAAU;IACnB,IAAI,CAACC,OAAO,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK;IAEjC;EACF;;EAEAC,KAAK;IACH,IAAI,CAACpB,MAAM,CAACoB,KAAK,EAAE;EACrB;EAGA;EAEAC,QAAQ,CAACF,KAAU;IACjB;IACA,IAAI,CAACG,aAAa,GAAGH,KAAK;EAC5B;EAEAI,UAAU,CAAC/B,IAAS;IAClB;IAEA,IAAI,CAACtB,MAAM,CAACc,QAAQ,CAACC,SAAS,CAAEC,MAAM,IAAI;MACxC,IAAI,CAACC,EAAE,GAAGD,MAAM,CAACE,GAAG,CAAC,IAAI,CAAC;MAE1B,IAAI,IAAI,CAACD,EAAE,EAAE;QACX;QACA;QAEA;QAEA,IAAI,CAACf,aAAa,CAACoD,MAAM,CAAC,IAAI,CAACrC,EAAE,EAAEK,IAAI,CAAC,CAACP,SAAS,CAAEK,MAAW,IAAI;UACjE,IAAIA,MAAM,EAAE;YACV,IAAI,CAACjB,MAAM,CAACoD,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;YAC1CC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAErC,MAAM,CAAC;;QAEvC,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;EACAsC,aAAa,CAACC,MAAW;IACvB,IAAI,CAACtC,WAAW,GAAGsC,MAAM,CAACX,MAAM,CAACC,KAAK;IACtC;IACA,MAAMzB,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;IAC1DF,MAAM,CAAC,eAAe,CAAC,CAACC,QAAQ,CAACE,IAAI,EAAE;IACvCH,MAAM,CAAC,iBAAiB,CAAC,CAACI,KAAK,CAAC,IAAI,CAACP,WAAW,CAAC;IACjDG,MAAM,CAAC,eAAe,CAAC,CAACC,QAAQ,CAACI,KAAK,EAAE;EAC1C;EAEA+B,IAAI;IACF,IAAI,CAAC9B,MAAM,CAACC,UAAU,CAAC;MACrBC,YAAY,EAAE,IAAI,CAAC5B,IAAI,CAAC0B,MAAM,CAACmB;KAChC,CAAC;EACJ;;AA7LWnD,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAA+D;EAAAC;IAAA;;;;;;;;;;;;;MCjBhCC,8BAAyC;MAEwBA,oBAAI;MAAAA,iBAAI;MAIzEA,+BAA6B","names":["Validators","UpdateUserComponent","constructor","active","fb","FilterService","router","form","sanitizer","createForm","ngOnInit","dropdownList","item_id","item_text","dropdownSettings","idField","textField","paramMap","subscribe","params","id","get","getDataById","result","htmlContent","data","body","iframe","document","getElementById","open","write","close","myForm","patchValue","templateName","templateCode","scenario","providers","user","tier","emailType","activity","status","targetAudience","subject","group","required","seePreview","event","preview","target","value","reset","onSelect","selectedValue","updateUser","update","navigate","console","log","safehtmlinput","$event","edit","selectors","viewQuery","i0"],"sourceRoot":"","sources":["/home/chandraprakash/Documents/masterEmail/frontend/EmailCom/src/app/filter/update-user/update-user.component.ts","/home/chandraprakash/Documents/masterEmail/frontend/EmailCom/src/app/filter/update-user/update-user.component.html"],"sourcesContent":["import { Component, ElementRef, ViewChild, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FilterService } from '../filter.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { FormComponent } from 'src/app/home/form/form.component';\nimport { FormServiceService } from 'src/app/home/form-service.service';\nimport { FilterComponent } from '../searchFilter/filter.component';\nimport { IDropdownSettings, } from 'ng-multiselect-dropdown';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\n\n\n@Component({\n  selector: 'app-update-user',\n  templateUrl: './update-user.component.html',\n  styleUrls: ['./update-user.component.css'],\n})\nexport class UpdateUserComponent implements OnInit {\n\n  @ViewChild('iframe') preview_iframe: ElementRef;\n\n  myForm: FormGroup;\n  id: any;\n  dropdownList = [];\n  dropdownSettings: IDropdownSettings = {};\n  data: any;\n  urlSafe: SafeResourceUrl;\n  htmlContent: string = '';\n\n  // patch: FilterComponent\n\nconstructor(private active: ActivatedRoute, private fb: FormBuilder, private FilterService: FilterService, private router: Router, private form:FormComponent, private sanitizer:DomSanitizer) {\n\n  // this.active.paramMap.subscribe((params)=>{\n  //   this.id = params.get('id')\n    \n  //   if(this.id){\n  //     this.myForm.patchValue({\n  //       templateName: this.filter.preData.templateName,\n  //       status: 'Active'\n\n    //      })\n    //     //  this.createForm()\n    //   }\n    // })\n\n    // this.active.paramMap.subscribe((params:any)=>{\n    //   this.id = params.get('id')\n    //   if(this.id){\n    //     this.FilterService.getDataById(this.id).subscribe((result:any)=>{\n    //       console.log('result.......======',result.data[0].templateName);\n    //       if(result){\n    //         this.myForm.patchValue({\n    //           templateName: result.data[0].templateName\n    //         })\n    //         this.createForm()\n    //       }\n\n    //     })\n    //   }\n    // })\n\n    this.createForm();\n\n    // console.log('id====',this.myForm.value)\n  }\n\n  ngOnInit(): void {\n    // console.log('patch======', this.patch.myForm.value.templateName)\n\n    //     let user:any = localStorage.getItem('submit')\n    // console.log('user====.......', user)\n    //   this.data = JSON.parse(user)\n    //   this.data = this.data.data\n    //   console.log('data====.......', this.data)\n\n    // console.log(this.form.myForm.value)\n    // this.form.previewData()\n    // this.dropdownList = [\n    //   { item_id: 1, item_text: 'User 1' },\n    //   { item_id: 2, item_text: 'User 2' },\n    //   { item_id: 3, item_text: 'User 3' },\n    // ];\n\n\n \n\n\n  this.dropdownList = [\n    { item_id: 1, item_text: 'User 1' },\n    { item_id: 2, item_text: 'User 2' },\n    { item_id: 3, item_text: 'User 3' }\n  ];\n  this.dropdownSettings = {\n    idField: 'item_id',\n    textField: 'item_text',\n  };\n\n\n    this.active.paramMap.subscribe((params) => {\n      this.id = params.get('id');\n\n      this.FilterService.getDataById(this.id).subscribe((result: any) => {\n        this.htmlContent = result.data[0].body;\n        const iframe = document.getElementById('preview_iframe_5');\n        iframe['contentWindow'].document.open();\n        iframe['contentDocument'].write(this.htmlContent);\n        iframe['contentWindow'].document.close();\n        //\n        if (this.id) {\n          this.myForm.patchValue({\n            templateName: result.data[0].templateName,\n            templateCode: result.data[0].templateCode,\n            scenario: result.data[0].scenario,\n            providers: result.data[0].providers,\n            user: result.data[0].user,\n            tier: result.data[0].tier,\n            emailType: result.data[0].emailType,\n            activity: result.data[0].activity,\n            status: result.data[0].status,\n            targetAudience: result.data[0].targetAudience,\n            subject: result.data[0].subject,\n            body: result.data[0].body,\n          });\n        }\n      });\n    });\n  }\n\n\n\n\n\n\n\n  createForm() {\n    this.myForm = this.fb.group({\n      templateName: ['', Validators.required],\n      templateCode: ['', Validators.required],\n      scenario: [''],\n      providers: ['', Validators.required],\n      user: ['', Validators.required],\n      tier: ['', Validators.required],\n      emailType: ['', Validators.required],\n      activity: [''],\n      status: ['', Validators.required],\n      targetAudience: ['', Validators.required],\n      subject: ['', Validators.required],\n      body: ['', Validators.required],\n    });\n  }\n\n  preview: any;\n\n  seePreview(event: any) {\n    this.preview = event.target.value;\n\n    // console.log(this.preview);\n  }\n\n  reset() {\n    this.myForm.reset();\n  }\n\n  selectedValue: any = '';\n  // error:any\n\n  onSelect(value: any) {\n    // this.selectedValue = document.getElementById('inp');\n    this.selectedValue = value;\n  }\n\n  updateUser(data: any) {\n    // console.log('updatedata===', data);\n\n    this.active.paramMap.subscribe((params) => {\n      this.id = params.get('id');\n\n      if (this.id) {\n        // this.myForm.patchValue({\n        //   templateName: this.form.myForm.value\n\n        //  })\n\n        this.FilterService.update(this.id, data).subscribe((result: any) => {\n          if (result) {\n            this.router.navigate(['/allTemplateData']);\n            console.log('result......', result);\n          }\n        });\n      }\n    });\n  }\n  safehtmlinput($event: any) {\n    this.htmlContent = $event.target.value;\n    // this.urlSafe = this.sanitizer.bypassSecurityTrustHtml(this.htmlContent);\n    const iframe = document.getElementById('preview_iframe_5');\n    iframe['contentWindow'].document.open();\n    iframe['contentDocument'].write(this.htmlContent);\n    iframe['contentWindow'].document.close();\n  }\n\n  edit() {\n    this.myForm.patchValue({\n      templateName: this.form.myForm.value,\n    });\n  }\n\n  // preData:any\n\n  // getById(){\n\n  //   this.active.paramMap.subscribe((params:any)=>{\n  //     this.id = params.get('id')\n  //     if(this.id){\n  //       this.FilterService.getDataById(this.id).subscribe((result:any)=>{\n  //         console.log('result.......======',result);\n  //         this.preData = result\n  //       })\n  //     }\n  //   })\n\n  // }\n}\n","<nav aria-label=\"breadcrumb\" class=\"m-4\">\n  <ol class=\"breadcrumb\">\n    <li class=\"breadcrumb-item\"><a routerLink=\"/allTemplateData\">Back</a></li>\n  </ol>\n</nav>\n\n<app-form-inp></app-form-inp>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}